<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Інструменти для аналізу ринку</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');

        :root {
            /* Темна тема (основні кольори) */
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #f5f5f5;
            --input-bg: #2b2b2b;
            --input-border: #424242;
            --placeholder-color: #a0a0a0;
            --accent-color: #bdbdbd;
            --accent-hover: #9e9e9e;
            --btn-text-color: #121212;
            --shadow-color: rgba(0, 0, 0, 0.5);
            --shadow-sm-color: rgba(0, 0, 0, 0.3);
            --shadow-inset-color: rgba(0, 0, 0, 0.4);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            flex-direction: column;
            transition: background-color 0.5s ease-in-out;
        }

        .main-container {
            display: flex;
            gap: 20px;
            width: 100%;
            max-width: 1200px;
            animation: fadeIn 0.8s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Обновленные стили для панелей */
        .left-panel {
            flex: 1; /* Изменение: Занимает равное место */
            display: flex;
            justify-content: center; /* Центрирует содержимое */
            align-items: flex-start; /* Выравнивает элемент сверху */
        }

            .left-panel .card {
                max-width: 450px; /* Добавление: Ограничивает ширину карточки */
                width: 100%;
            }

        .right-panel {
            flex: 1; /* Изменение: Занимает равное место */
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px var(--shadow-color), 0 4px 6px -2px var(--shadow-sm-color);
            padding: 1.5rem;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            transition: background-color 0.5s ease-in-out;
            overflow: hidden;
        }

        /* Для мобильных устройств */
        @media (max-width: 640px) {
            .card {
                padding: 1rem;
                border-radius: 1rem;
            }

            .main-container {
                flex-direction: column;
                gap: 15px;
            }

            .left-panel, .right-panel {
                flex: none;
                width: 100%;
            }
        }

        .input-field, .select-field {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.75rem;
            border: 1px solid var(--input-border);
            background-color: var(--input-bg);
            color: var(--text-color);
            transition: all 0.3s ease;
        }

            .input-field:focus, .select-field:focus {
                outline: none;
                border-color: var(--accent-color);
                box-shadow: 0 0 0 3px rgba(189, 189, 189, 0.5);
            }

            .input-field::placeholder {
                color: var(--placeholder-color);
            }

        .btn {
            width: 100%;
            padding: 1rem;
            border-radius: 0.75rem;
            background-color: var(--accent-color);
            color: var(--btn-text-color);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

            .btn:hover {
                background-color: var(--accent-hover);
                transform: translateY(-2px);
            }

        .result-box {
            margin-top: 2rem;
            background-color: var(--input-bg);
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: inset 0 2px 4px var(--shadow-inset-color);
            transition: all 0.5s ease-in-out;
            opacity: 0;
            transform: scale(0.95);
        }

            .result-box.show {
                opacity: 1;
                transform: scale(1);
            }

        .input-group {
            opacity: 0;
            transform: translateY(20px);
            animation: slideIn 0.5s ease-out forwards;
        }

            .input-group:nth-child(1) {
                animation-delay: 0.2s;
            }

            .input-group:nth-child(2) {
                animation-delay: 0.4s;
            }

            .input-group:nth-child(3) {
                animation-delay: 0.6s;
            }

            .input-group:nth-child(4) {
                animation-delay: 0.8s;
            }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-table {
            width: 100%;
            border-collapse: collapse;
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
        }

            .result-table th,
            .result-table td {
                padding: 0.75rem;
                text-align: left;
                border-bottom: 1px solid var(--input-border);
            }

            .result-table th {
                font-weight: 500;
                color: var(--placeholder-color);
            }
        /* Стили для анимации переворота */
        .calc-container {
            perspective: 1000px;
            width: 100%;
            height: auto;
        }

        .calc-card {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

            .calc-card.flipped {
                transform: rotateY(180deg);
            }

        .calc-front,
        .calc-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 1.5rem;
        }

        .calc-back {
            transform: rotateY(180deg);
        }

            /* Анимация для контента на обратной стороне */
            .calc-back .card {
                animation: fadeInBack 0.6s ease-in-out forwards;
                animation-delay: 0.4s;
                opacity: 0;
            }

        @keyframes fadeInBack {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* Обновленные стили для кнопок переключения */
        #toggleMileageCalc, #backToMainCalc {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-weight: bold;
            transition: all 0.3s ease;
        }

            #toggleMileageCalc:hover, #backToMainCalc:hover {
                transform: translateY(-2px);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
                background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            }
        .left-panel {
            flex: 1.5; /* Увеличиваем ширину левой панели */
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

            .left-panel .card {
                max-width: 550px; /* Увеличиваем максимальную ширину карточки */
                width: 100%;
            }

        .right-panel {
            flex: 1; /* Правая панель остается прежней */
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        /* Контейнер результатов */
        .result-container {
            max-width: 100%;
            overflow-x: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 1rem;
        }

        /* Группа кодов (теперь в строку) */
        .result-group {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }

        /* Заголовок группы */
        .result-group-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--accent-color);
            margin: 0; /* убрали margin-bottom */
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* Обычная плашка */
        .copyable-part {
            display: inline-flex; /* компактные блоки в одну строку */
            align-items: center;
            justify-content: center;
            padding: 6px 12px; /* отступы */
            margin: 2px 0; /* лёгкое расстояние по вертикали */
            border: 1px solid rgba(189,189,189,0.3);
            border-radius: 8px;
            background-color: var(--input-bg);
            color: var(--text-color);
            font-weight: 500;
            font-size: 0.9rem;
            white-space: nowrap; /* не переносим текст внутри */
            cursor: pointer;
            transition: all 0.2s ease;
        }

            /* Hover-эффект */
            .copyable-part:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 8px rgba(0,0,0,0.2);
                border-color: var(--accent-color);
            }

            /* Оригинальный код выделяем */
            .copyable-part.original {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: #fff;
                font-weight: 600;
                border: none;
            }


    </style>
</head>
<body>
    <div class="main-container">
        <!-- Лева панель: Калькулятор -->
        <div class="left-panel">
            <div class="calc-container">
                <div class="calc-card">
                    <!-- Лицевая сторона - основной калькулятор -->
                    <div class="calc-front">
                        <div class="card">
                            <h2 class="text-3xl font-bold text-center mb-6">Калькулятор діапазону цін</h2>
                            <div class="space-y-6">
                                <div class="input-group">
                                    <label for="minPrice" class="block mb-2">Мінімальна ціна (нижня межа):</label>
                                    <input type="number" id="minPrice" class="input-field">
                                </div>
                                <div class="input-group">
                                    <label for="maxPrice" class="block mb-2">Максимальна ціна (верхня межа):</label>
                                    <input type="number" id="maxPrice" class="input-field">
                                </div>
                                <div class="input-group">
                                    <label for="centsIndex" class="block mb-2">Індекс центів (0–99):</label>
                                    <input type="number" id="centsIndex" min="0" max="99" class="input-field">
                                </div>
                                <div class="input-group">
                                    <label for="shippingCost" class="block mb-2">Вартість доставки ($):</label>
                                    <input type="number" id="shippingCost" step="0.01" class="input-field">
                                </div>
                            </div>
                            <button onclick="calculate()" class="btn mt-8">Розрахувати</button>
                            <div id="result" class="result-box"></div>

                            <button id="toggleMileageCalc" class="btn mt-6 w-full bg-indigo-600 hover:bg-indigo-700">
                                Перейти до калькулятора з пробігом
                            </button>
                        </div>
                    </div>

                    <!-- Обратная сторона - калькулятор с пробегом -->
                    <div class="calc-back">
                        <div class="card">
                            <h2 class="text-2xl font-bold text-center mb-4">Калькулятор дорогих деталей</h2>

                            <h3 class="font-semibold mb-2">Ринкові межі</h3>
                            <div class="space-y-2">
                                <label class="block">
                                    Мінімальна ціна ($, дешева деталь):
                                    <input type="number" id="minPriceMileage" class="input-field">
                                </label>
                                <label class="block">
                                    Максимальний пробіг (тис. миль, дешева деталь):
                                    <input type="number" id="maxMileage" class="input-field">
                                </label>
                                <label class="block">
                                    Максимальна ціна ($, дорога деталь):
                                    <input type="number" id="maxPriceMileage" class="input-field">
                                </label>
                                <label class="block">
                                    Мінімальний пробіг (тис. миль, дорога деталь):
                                    <input type="number" id="minMileage" class="input-field">
                                </label>
                            </div>
                            <h3 class="font-semibold mt-4 mb-2">Мої деталі</h3>
                            <div id="partsList" class="space-y-2"></div>
                            <button class="btn mt-2" onclick="addPart()">+ Додати деталь</button>

                            <button class="btn mt-6 w-full bg-green-600 hover:bg-green-700" onclick="calculateWithMileage()">Розрахувати</button>
                            <div id="resultsMileage" class="result-box mt-4"></div>

                            <button id="backToMainCalc" class="btn mt-6 w-full bg-gray-600 hover:bg-gray-700">
                                ← Повернутись назад
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Права панель: Два менші блоки -->
        <div class="right-panel">
            <!-- Верхній блок: Ділення коду -->
            <div class="card">
                <h2 class="text-3xl font-bold text-center mb-6">Ділення номерів деталей</h2>
                <div class="space-y-6">
                    <select id="brand" class="select-field">
                        <option value="">Виберіть марку</option>
                        <option>Alfa Romeo</option>
                        <option>BMW/Mini</option>
                        <option>Chevrolet/GMC</option>
                        <option>Ford/Lincoln</option>
                        <option>Honda/Acura</option>
                        <option>Hyundai/KIA</option>
                        <option>Jaguar/Land Rover</option>
                        <option>Jeep/Dodge/RAM</option>
                        <option>Maserati</option>
                        <option>Mazda</option>
                        <option>Mercedes-Benz</option>
                        <option>Mitsubishi</option>
                        <option>Nissan/Infiniti</option>
                        <option>Subaru</option>
                        <option>Tesla</option>
                        <option>Toyota/Lexus/Scion</option>
                        <option>Volkswagen/Audi/Porsche</option>
                        <option>Volvo</option>
                    </select>
                    <input type="text" id="code" placeholder="Введіть код деталі" class="input-field">
                    <button onclick="processCode()" class="btn">Розбити код</button>
                </div>
                <div id="splitter-results" class="result-box"></div>
            </div>

            <!-- Нижній блок: Новий функціонал -->
            <div class="card">
                <h2 class="text-3xl font-bold text-center mb-6">Інформація про авто</h2>
                <div class="space-y-6">
                    <select id="carBrand" class="select-field">
                        <option value="">Виберіть марку</option>
                    </select>
                    <select id="carModel" class="select-field" disabled>
                        <option value="">Виберіть модель</option>
                    </select>
                    <button onclick="getCarInfo()" class="btn">Отримати дані</button>
                </div>
                <div id="car-info-result" class="result-box"></div>
            </div>
        </div>
    </div>

    <script>
        let partCounter = 0;

        // Анимация открытия
        document.getElementById('toggleMileageCalc').addEventListener('click', () => {
            const calcCard = document.querySelector('.calc-card');
            calcCard.classList.add('flipped');
        });

        // Возврат к основному калькулятору
        document.getElementById('backToMainCalc').addEventListener('click', () => {
            const calcCard = document.querySelector('.calc-card');
            calcCard.classList.remove('flipped');
        });


        // Добавить деталь
        function addPart() {
            partCounter++;
            const partsList = document.getElementById('partsList');
            const div = document.createElement('div');
            div.classList.add('part-item');
            div.innerHTML = `
     <div class="flex items-center justify-between mb-2">
            <label class="block mb-0">Деталь ${partCounter}: Пробіг (тис. миль)</label>
            <button onclick="removePart(this)" class="text-red-400 hover:text-red-300 text-lg font-bold ml-2">×</button>
        </div>
        <input type="number" class="partMileage input-field">
  `;
            partsList.appendChild(div);
        }
        function removePart(button) {
            const partItem = button.closest('.part-item');
            partItem.remove();

            // Пересчитываем номера деталей
            const partItems = document.querySelectorAll('.part-item');
            partItems.forEach((item, index) => {
                const label = item.querySelector('label');
                label.textContent = `Деталь ${index + 1}: Пробіг (тис. миль)`;
            });

            partCounter = partItems.length;
        }

        // Рассчёт с пробегом
        function calculateWithMileage() {
            const minPrice = parseFloat(document.getElementById('minPriceMileage').value); // дешева
            const maxMileage = (parseFloat(document.getElementById('maxMileage').value) || 0) * 1000;   // дешева (максимальный пробег)
            const maxPrice = parseFloat(document.getElementById('maxPriceMileage').value); // дорога
            const minMileage = (parseFloat(document.getElementById('minMileage').value) || 0) * 1000;   // дорога (минимальный пробег)

            const resultsDiv = document.getElementById('resultsMileage');
            resultsDiv.innerHTML = "";

            if (isNaN(minPrice) || isNaN(maxMileage) || isNaN(maxPrice) || isNaN(minMileage)) {
                resultsDiv.innerHTML = "<p class='text-red-400'>Заповніть усі ринкові межі</p>";
                return;
            }

            if (minPrice >= maxPrice) {
                resultsDiv.innerHTML = "<p class='text-red-400'>Помилка: мінімальна ціна повинна бути меншою за максимальну</p>";
                return;
            }
            if (minMileage >= maxMileage) {
                resultsDiv.innerHTML = "<p class='text-red-400'>Помилка: мінімальний пробіг повинен бути меншим за максимальний</p>";
                return;
            }

            // Строим формулу через 2 точки: (minMileage, maxPrice) и (maxMileage, minPrice)
            // y = a + b*x
            const b = (maxPrice - minPrice) / (minMileage - maxMileage);
            const a = maxPrice - b * minMileage;

            const mileages = [...document.querySelectorAll('.partMileage')]
                .map(inp => (parseFloat(inp.value) || 0) * 1000)  // теперь значения в "тыс."
                .filter(m => !isNaN(m) && m > 0);

            if (mileages.length === 0) {
                resultsDiv.innerHTML = "<p class='text-red-400'>Додайте хоча б одну деталь</p>";
                return;
            }

            // 50% рынка = (Максимальная цена - минимальная) * 0.5 + минимальная цена
            const market50Percent = (maxPrice - minPrice) * 0.5 + minPrice;

            const tableContainer = document.createElement('div');
            tableContainer.classList.add('result-table-container');

            const tableHeader = document.createElement('div');
            tableHeader.classList.add('table-header');
            tableHeader.textContent = 'Ринкові ціни за пробігом';

            const table = document.createElement('table');
            table.classList.add('result-table');
            table.innerHTML = `
        <thead>
            <tr>
                <th>Деталь</th>
                <th>Пробіг</th>
                <th class="number-cell">Ціна</th>
                <th class="number-cell">50% ринку</th>
            </tr>
        </thead>
        <tbody>
        </tbody>`;

            mileages.forEach((m, idx) => {
                const fairPrice = a + b * m;

                const tbody = table.querySelector('tbody');
                tbody.innerHTML += `
            <tr>
                <td><strong>Деталь ${idx + 1}</strong></td>
                <td>${m.toLocaleString()} миль</td>
                <td class="number-cell"><strong>$${fairPrice.toFixed(2)}</strong></td>
                <td class="number-cell">$${market50Percent.toFixed(2)}</td>
            </tr>`;
            });

            tableContainer.appendChild(tableHeader);
            tableContainer.appendChild(table);
            resultsDiv.appendChild(tableContainer);
            resultsDiv.classList.add('show');
        }
        // Data for the new car info feature
        const carData = {
            "Acura": {
                "ILX (2019-2022)": "Двигун: 2.4L DOHC i-VTEC I4\nПривід: Передній привід (FWD)\nТрансмісія: 8-ступенева з подвійним зчепленням (8-speed Dual-Clutch)",
                "Integra (2023-2024)": "Двигун: 1.5L VTEC Turbo I4, 2.0L VTEC Turbo I4 (для Type S)\nПривід: Передній привід (FWD)\nТрансмісія: Безступенева (CVT), 6-ступенева механічна (6-speed Manual)",
                "MDX (2017-2025)": "Двигун: 3.5L V6, 3.0L V6 Turbo (для Type S)\nПривід: Передній привід (FWD), Повний привід (SH-AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic), 10-ступенева автоматична (10-speed Automatic)",
                "RDX (2019-2024)": "Двигун: 2.0L VTEC Turbo I4\nПривід: Передній привід (FWD), Повний привід (SH-AWD)\nТрансмісія: 10-ступенева автоматична (10-speed Automatic)"
            },
            "Alfa Romeo": {
                "Giulia (2017-2024)": "Двигун: 2.0L Turbo I4, 2.9L Twin-Turbo V6 (для Quadrifoglio)\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Stelvio (2017-2023)": "Двигун: 2.0L Turbo I4, 2.9L Twin-Turbo V6 (для Quadrifoglio)\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)"
            },
            "Audi": {
                "A3 (2016-2020)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (Quattro AWD)\nТрансмісія: 6-ступенева S tronic (S tronic), 7-ступенева S tronic (S tronic)",
                "A4 (2017-2024)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (Quattro AWD)\nТрансмісія: 7-ступенева S tronic (S tronic)",
                "A5 (2018-2022)": "Двигун: 2.0L Turbo I4, 3.0L Turbo V6 (для S5), 2.9L Twin-Turbo V6 (для RS 5)\nПривід: Повний привід (Quattro AWD)\nТрансмісія: 7-ступенева S tronic (S tronic), 8-ступенева Tiptronic (Tiptronic)",
                "A6 (2016-2023)": "Двигун: 2.0L Turbo I4, 3.0L Turbo V6\nПривід: Передній привід (FWD), Повний привід (Quattro AWD)\nТрансмісія: 7-ступенева S tronic (S tronic), 8-ступенева Tiptronic (Tiptronic)",
                "A8 (2017-2019)": "Двигун: 3.0L Supercharged V6, 4.0L Twin-Turbo V8\nПривід: Повний привід (Quattro AWD)\nТрансмісія: 8-ступенева Tiptronic (Tiptronic)",
                "Q3 (2020-2021)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (Quattro AWD)\nТрансмісія: 8-ступенева Tiptronic (Tiptronic)",
                "Q5 (2018-2024)": "Двигун: 2.0L Turbo I4, 2.0L Turbo I4 (PHEV), 3.0L Turbo V6 (для SQ5)\nПривід: Повний привід (Quattro AWD)\nТрансмісія: 7-ступенева S tronic (S tronic), 8-ступенева Tiptronic (Tiptronic)",
                "Q7 (2017-2024)": "Двигун: 2.0L Turbo I4, 3.0L Turbo V6, 4.0L Twin-Turbo V8 (для SQ7)\nПривід: Повний привід (Quattro AWD)\nТрансмісія: 8-ступенева Tiptronic (Tiptronic)",
                "Q8 (2019-2023)": "Двигун: 3.0L Turbo V6, 4.0L Twin-Turbo V8 (для SQ8 та RS Q8)\nПривід: Повний привід (Quattro AWD)\nТрансмісія: 8-ступенева Tiptronic (Tiptronic)"
            },
            "BMW": {
                "330i (2019-2025)": "Двигун: 2.0L TwinPower Turbo I4\nПривід: Задній привід (RWD), Повний привід (xDrive AWD)\nТрансмісія: 8-ступенева Steptronic (8-speed Steptronic)",
                "430i (2017-2020)": "Двигун: 2.0L TwinPower Turbo I4\nПривід: Задній привід (RWD), Повний привід (xDrive AWD)\nТрансмісія: 8-ступенева Steptronic (8-speed Steptronic)",
                "440i (2020-2026)": "Двигун: 3.0L TwinPower Turbo I6\nПривід: Задній привід (RWD), Повний привід (xDrive AWD)\nТрансмісія: 8-ступенева Steptronic (8-speed Steptronic)",
                "530i (2017-2023)": "Двигун: 2.0L TwinPower Turbo I4\nПривід: Задній привід (RWD), Повний привід (xDrive AWD)\nТрансмісія: 8-ступенева Steptronic (8-speed Steptronic)",
                "740/750i (2015-2022)": "Двигун: 3.0L TwinPower Turbo I6 (740i), 4.4L TwinPower Turbo V8 (750i)\nПривід: Задній привід (RWD), Повний привід (xDrive AWD)\nТрансмісія: 8-ступенева Steptronic (8-speed Steptronic)",
                "X1 (2013-2024)": "Двигун: 2.0L TwinPower Turbo I4\nПривід: Передній привід (FWD), Повний привід (xDrive AWD)\nТрансмісія: 8-ступенева Steptronic (8-speed Steptronic), 7-ступенева з подвійним зчепленням (7-speed Dual-Clutch)",
                "X2 (2018-2023)": "Двигун: 2.0L TwinPower Turbo I4\nПривід: Передній привід (FWD), Повний привід (xDrive AWD)\nТрансмісія: 8-ступенева Steptronic (8-speed Steptronic)",
                "X3 (2018-2021)": "Двигун: 2.0L TwinPower Turbo I4, 3.0L TwinPower Turbo I6\nПривід: Задній привід (RWD), Повний привід (xDrive AWD)\nТрансмісія: 8-ступенева Steptronic (8-speed Steptronic)",
                "X4 (2018-2021)": "Двигун: 2.0L TwinPower Turbo I4, 3.0L TwinPower Turbo I6\nПривід: Повний привід (xDrive AWD)\nТрансмісія: 8-ступенева Steptronic (8-speed Steptronic)",
                "X5 (2014-2023)": "Двигун: 3.0L TwinPower Turbo I6, 4.4L TwinPower Turbo V8\nПривід: Задній привід (RWD), Повний привід (xDrive AWD)\nТрансмісія: 8-ступенева Steptronic (8-speed Steptronic)",
                "X6 (2015-2019)": "Двигун: 3.0L TwinPower Turbo I6, 4.4L TwinPower Turbo V8\nПривід: Задній привід (RWD), Повний привід (xDrive AWD)\nТрансмісія: 8-ступенева Steptronic (8-speed Steptronic)"
            },
            "Buick": {
                "Enclave (2018-2024)": "Двигун: 3.6L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Encore (2020-2024)": "Двигун: 1.4L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "Envision (2021-2024)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Regal (2018-2020)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic), 8-ступенева автоматична (8-speed Automatic)"
            },
            "Cadillac": {
                "CT4 (2020-2024)": "Двигун: 2.0L Twin-Scroll Turbo I4, 2.7L Turbo I4, 3.6L Twin-Turbo V6 (для CT4-V Blackwing)\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 10-ступенева автоматична (10-speed Automatic)",
                "CT5 (2020-2024)": "Двигун: 2.0L Turbo I4, 3.0L Twin-Turbo V6\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 10-ступенева автоматична (10-speed Automatic)",
                "CT6 (2016-2020)": "Двигун: 2.0L Turbo I4, 3.6L V6, 3.0L Twin-Turbo V6, 4.2L Twin-Turbo V8\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 10-ступенева автоматична (10-speed Automatic)",
                "XT4 (2019-2024)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "XT5 (2017-2024)": "Двигун: 3.6L V6, 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 9-ступенева автоматична (9-speed Automatic)",
                "XT6 (2020-2024)": "Двигун: 3.6L V6, 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "XTS (2013-2019)": "Двигун: 3.6L V6, 3.6L Twin-Turbo V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)"
            },
            "Chevrolet": {
                "Blazer (2019-2022)": "Двигун: 2.5L I4, 2.0L Turbo I4, 3.6L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Camaro (2019-2023)": "Двигун: 2.0L Turbo I4, 3.6L V6, 6.2L V8, 6.2L Supercharged V8\nПривід: Задній привід (RWD)\nТрансмісія: 6-ступенева механічна (6-speed Manual), 8-ступенева автоматична (8-speed Automatic), 10-ступенева автоматична (10-speed Automatic)",
                "Colorado (2015-2022)": "Двигун: 2.5L I4, 3.6L V6, 2.8L Duramax Diesel\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 8-ступенева автоматична (8-speed Automatic)",
                "Equinox (2016-2021)": "Двигун: 1.5L Turbo I4, 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 9-ступенева автоматична (9-speed Automatic)",
                "Express (2003-2026)": "Двигун: 4.3L V6, 6.6L V8, 2.8L Duramax Diesel\nПривід: Задній привід (RWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Impala (2014-2020)": "Двигун: 2.5L I4, 3.6L V6\nПривід: Передній привід (FWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "Malibu (2016-2023)": "Двигун: 1.5L Turbo I4, 2.0L Turbo I4\nПривід: Передній привід (FWD)\nТрансмісія: Безступенева (CVT), 9-ступенева автоматична (9-speed Automatic)",
                "Silverado (2019-2022)": "Двигун: 2.7L Turbo I4, 4.3L V6, 5.3L V8, 6.2L V8, 3.0L Duramax Diesel\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 8-ступенева автоматична (8-speed Automatic), 10-ступенева автоматична (10-speed Automatic)",
                "Suburban (2015-2020)": "Двигун: 5.3L V8, 6.2L V8\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 10-ступенева автоматична (10-speed Automatic)",
                "Tahoe (2015-2020)": "Двигун: 5.3L V8, 6.2L V8\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 10-ступенева автоматична (10-speed Automatic)",
                "Trailblazer (2021-2023)": "Двигун: 1.2L Turbo I3, 1.3L Turbo I3\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Безступенева (CVT), 9-ступенева автоматична (9-speed Automatic)",
                "Traverse (2018-2023)": "Двигун: 3.6L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Trax (2024-2025)": "Двигун: 1.2L Turbo I3\nПривід: Передній привід (FWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)"
            },
            "Chrysler": {
                "300 (2015-2024)": "Двигун: 3.6L Pentastar V6, 5.7L HEMI V8\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Pacifica (2017-2021)": "Двигун: 3.6L Pentastar V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Voyager (2020-2024)": "Двигун: 3.6L Pentastar V6\nПривід: Передній привід (FWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)"
            },
            "Dodge": {
                "Challenger (2015-2023)": "Двигун: 3.6L Pentastar V6, 5.7L HEMI V8, 6.4L HEMI V8, 6.2L Supercharged HEMI V8\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 6-ступенева механічна (6-speed Manual)",
                "Charger (2015-2023)": "Двигун: 3.6L Pentastar V6, 5.7L HEMI V8, 6.4L HEMI V8, 6.2L Supercharged HEMI V8\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Durango (2018-2024)": "Двигун: 3.6L Pentastar V6, 5.7L HEMI V8, 6.4L HEMI V8, 6.2L Supercharged HEMI V8\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Hornet (2022-2025)": "Двигун: 2.0L Turbo I4, 1.3L Turbo I4 (PHEV)\nПривід: Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic), 6-ступенева автоматична (6-speed Automatic)",
                "Journey (2009-2020)": "Двигун: 2.4L I4, 3.6L Pentastar V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 4-ступенева автоматична (4-speed Automatic), 6-ступенева автоматична (6-speed Automatic)"
            },
            "Fiat": {
                "500L (2018-2022)": "Двигун: 1.4L MultiAir Turbo I4\nПривід: Передній привід (FWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)"
            },
            "Ford": {
                "Bronco (2021-2025)": "Двигун: 2.3L EcoBoost I4, 2.7L EcoBoost V6\nПривід: Повний привід (4WD)\nТрансмісія: 7-ступенева механічна (7-speed Manual), 10-ступенева автоматична (10-speed Automatic)",
                "Bronco Sport (2021-2025)": "Двигун: 1.5L EcoBoost I3, 2.0L EcoBoost I4\nПривід: Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Edge (2019-2023)": "Двигун: 2.0L EcoBoost I4, 2.7L EcoBoost V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 7-ступенева автоматична (7-speed Automatic)",
                "Escape (2017-2022)": "Двигун: 1.5L EcoBoost I4, 2.0L EcoBoost I4, 2.5L I4, 2.5L I4 (Hybrid)\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Expedition (2018-2024)": "Двигун: 3.5L EcoBoost V6\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 10-ступенева автоматична (10-speed Automatic)",
                "Explorer (2017-2024)": "Двигун: 2.3L EcoBoost I4, 3.0L EcoBoost V6, 3.3L V6 (Hybrid)\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 10-ступенева автоматична (10-speed Automatic)",
                "F-150/250 (2019-2024)": "Двигун: Широкий спектр EcoBoost V6, V8, Power Stroke Diesel\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 10-ступенева автоматична (10-speed Automatic), 6-ступенева автоматична (6-speed Automatic)",
                "Focus (2012-2018)": "Двигун: 2.0L I4, 1.0L EcoBoost I3, 2.0L EcoBoost I4 (ST), 2.3L EcoBoost I4 (RS)\nПривід: Передній привід (FWD)\nТрансмісія: 5-ступенева механічна (5-speed Manual), 6-ступенева з подвійним зчепленням (6-speed Dual-Clutch), 6-ступенева автоматична (6-speed Automatic)",
                "Fusion (2013-2021)": "Двигун: 2.5L I4, 1.5L EcoBoost I4, 2.0L EcoBoost I4, 2.7L EcoBoost V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "Maverick (2022-2025)": "Двигун: 2.5L Hybrid I4, 2.0L EcoBoost I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Бесступенева (CVT), 8-ступенева автоматична (8-speed Automatic)",
                "Mustang (2018-2023)": "Двигун: 2.3L EcoBoost I4, 5.0L V8, 5.2L V8\nПривід: Задній привід (RWD)\nТрансмісія: 6-ступенева механічна (6-speed Manual), 10-ступенева автоматична (10-speed Automatic)",
                "Ranger (2019-2023)": "Двигун: 2.3L EcoBoost I4\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 10-ступенева автоматична (10-speed Automatic)",
                "Transit Connect (2019-2023)": "Двигун: 2.0L I4, 2.5L I4\nПривід: Передній привід (FWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 6-ступенева автоматична (6-speed Automatic)",
                "Transit T-15/25/35 (2015-2023)": "Двигун: 3.5L V6, 3.5L EcoBoost V6\nПривід: Задній привід (RWD)\nТрансмісія: 10-ступенева автоматична (10-speed Automatic), 6-ступенева автоматична (6-speed Automatic)"
            },
            "Genesis": {
                "G70 (2017-2025)": "Двигун: 2.0L Turbo I4, 3.3L Twin-Turbo V6\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "G80 (2020-2025)": "Двигун: 2.5L Turbo I4, 3.5L Twin-Turbo V6\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "GV70 (2024-2026)": "Двигун: 2.5L Turbo I4, 3.5L Twin-Turbo V6\nПривід: Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "GV80 (2020-2023)": "Двигун: 2.5L Turbo I4, 3.5L Twin-Turbo V6\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)"
            },
            "GMC": {
                "Acadia (2017-2023)": "Двигун: 2.5L I4, 3.6L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 9-ступенева автоматична (9-speed Automatic)",
                "Canyon (2021-2022)": "Двигун: 2.5L I4, 3.6L V6, 2.8L Duramax Diesel\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 8-ступенева автоматична (8-speed Automatic)",
                "Savana (2003-2026)": "Двигун: 4.3L V6, 6.6L V8, 2.8L Duramax Diesel\nПривід: Задній привід (RWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Sierra (2022-2026)": "Двигун: 2.7L Turbo I4, 5.3L V8, 6.2L V8, 3.0L Duramax Diesel\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 10-ступенева автоматична (10-speed Automatic)",
                "Terrain (2018-2021)": "Двигун: 1.5L Turbo I4, 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)"
            },
            "Honda": {
                "Accord (2018-2024)": "Двигун: 1.5L Turbo I4, 2.0L Turbo I4, 2.0L Hybrid I4\nПривід: Передній привід (FWD)\nТрансмісія: Бесступенева (CVT), 10-ступенева автоматична (10-speed Automatic)",
                "Civic (2016-2024)": "Двигун: 2.0L I4, 1.5L Turbo I4, 2.0L Turbo I4 (Type R), 1.5L I4 (Hybrid)\nПривід: Передній привід (FWD)\nТрансмісія: Бесступенева (CVT), 6-ступенева механічна (6-speed Manual)",
                "CR-V (2017-2022)": "Двигун: 1.5L Turbo I4, 2.4L I4, 2.0L Hybrid I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Бесступенева (CVT)",
                "HR-V (2023-2025)": "Двигун: 2.0L I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Бесступенева (CVT)",
                "Insight (2019-2023)": "Двигун: 1.5L Hybrid I4\nПривід: Передній привід (FWD)\nТрансмісія: Бесступенева (e-CVT)",
                "Odyssey (2018-2023)": "Двигун: 3.5L V6\nПривід: Передній привід (FWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic), 10-ступенева автоматична (10-speed Automatic)",
                "Passport (2019-2021)": "Двигун: 3.5L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Pilot (2016-2024)": "Двигун: 3.5L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 9-ступенева автоматична (9-speed Automatic), 10-ступенева автоматична (10-speed Automatic)",
                "Ridgeline (2017-2024)": "Двигун: 3.5L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 9-ступенева автоматична (9-speed Automatic)"
            },
            "Hyundai": {
                "Elantra (2021-2023)": "Двигун: 2.0L I4, 1.6L Turbo I4, 1.6L Hybrid I4\nПривід: Передній привід (FWD)\nТрансмісія: Бесступенева (CVT), 6-ступенева автоматична (6-speed Automatic), 7-ступенева з подвійним зчепленням (7-speed DCT)",
                "Palisade (2020-2024)": "Двигун: 3.8L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Santa Cruz (2022-2024)": "Двигун: 2.5L I4, 2.5L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 8-ступенева з подвійним зчепленням (8-speed DCT)",
                "Santa Fe (2013-2023)": "Двигун: 2.4L I4, 2.0L Turbo I4, 2.5L I4, 2.5L Turbo I4, 1.6L Turbo (Hybrid/PHEV)\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 8-ступенева автоматична (8-speed Automatic), 8-ступенева з подвійним зчепленням (8-speed DCT)",
                "Sonata (2020-2023)": "Двигун: 2.5L I4, 1.6L Turbo I4, 2.5L Hybrid I4\nПривід: Передній привід (FWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 8-ступенева з подвійним зчепленням (8-speed DCT)",
                "Tucson (2019-2023)": "Двигун: 2.0L I4, 2.4L I4, 2.5L I4, 1.6L Turbo (Hybrid/PHEV)\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 8-ступенева автоматична (8-speed Automatic), 6-ступенева автоматична (для Hybrid/PHEV)"
            },
            "Infiniti": {
                "Q50 (2018-2023)": "Двигун: 3.0L Twin-Turbo V6\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 7-ступенева автоматична (7-speed Automatic)",
                "Q60 (2017-2022)": "Двигун: 3.0L Twin-Turbo V6\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 7-ступенева автоматична (7-speed Automatic)",
                "QX50/QX55 (2019-2023)": "Двигун: 2.0L Variable Compression Turbo (VC-Turbo)\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Безступенева (CVT)",
                "QX60 (2016-2024)": "Двигун: 3.5L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Безступенева (CVT), 9-ступенева автоматична (9-speed Automatic)",
                "QX80 (2018-2023)": "Двигун: 5.6L V8\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 7-ступенева автоматична (7-speed Automatic)"
            },
            "Jeep": {
                "Cherokee (2019-2023)": "Двигун: 2.4L I4, 3.2L Pentastar V6, 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (4x4)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Compass (2017-2023)": "Двигун: 2.4L Tigershark I4, 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (4x4)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 9-ступенева автоматична (9-speed Automatic)",
                "Gladiator (2019-2026)": "Двигун: 3.6L Pentastar V6, 3.0L EcoDiesel V6\nПривід: Повний привід (4x4)\nТрансмісія: 6-ступенева механічна (6-speed Manual), 8-ступенева автоматична (8-speed Automatic)",
                "Grand Cherokee (2017-2021)": "Двигун: 3.6L Pentastar V6, 5.7L HEMI V8, 6.4L SRT HEMI V8, 6.2L Supercharged HEMI V8 (Trackhawk)\nПривід: Задній привід (RWD), Повний привід (4x4)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Renegade (2015-2023)": "Двигун: 2.4L Tigershark I4, 1.3L Turbo I4\nПривід: Передній привід (FWD), Повний привід (4x4)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Wagoneer (2022-2024)": "Двигун: 5.7L V8, 6.4L V8, 3.0L Twin-Turbo I6\nПривід: Задній привід (RWD), Повний привід (4x4)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Wrangler (2018-2023)": "Двигун: 3.6L Pentastar V6, 2.0L Turbo I4, 6.4L V8\nПривід: Повний привід (4x4)\nТрансмісія: 6-ступенева механічна (6-speed Manual), 8-ступенева автоматична (8-speed Automatic)"
            },
            "Kia": {
                "Carnival (2022-2024)": "Двигун: 3.5L V6\nПривід: Передній привід (FWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "K5 (2021-2024)": "Двигун: 1.6L Turbo I4, 2.5L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 8-ступенева з подвійним зчепленням (8-speed DCT)",
                "Optima (2016-2020)": "Двигун: 2.4L I4, 1.6L Turbo I4, 2.0L Turbo I4\nПривід: Передній привід (FWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 7-ступенева з подвійним зчепленням (7-speed DCT)",
                "Sedona (2019-2021)": "Двигун: 3.3L V6\nПривід: Передній привід (FWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Seltos (2021-2023)": "Двигун: 2.0L I4, 1.6L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Бесступенева (CVT), 7-ступенева з подвійним зчепленням (7-speed DCT)",
                "Sorento (2016-2024)": "Двигун: 2.4L I4, 3.3L V6, 2.5L I4, 2.5L Turbo I4, 1.6L Turbo (Hybrid/PHEV)\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 8-ступенева автоматична (8-speed Automatic), 8-ступенева з подвійним зчепленням (8-speed DCT)",
                "Soul (2020-2022)": "Двигун: 2.0L I4, 1.6L Turbo I4\nПривід: Передній привід (FWD)\nТрансмісія: Бесступенева (CVT), 7-ступенева з подвійним зчепленням (7-speed DCT)",
                "Sportage (2020-2023)": "Двигун: 2.4L I4, 2.0L Turbo I4, 2.5L I4, 1.6L Turbo (Hybrid/PHEV)\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 8-ступенева автоматична (8-speed Automatic)",
                "Stinger (2017-2021)": "Двигун: 2.0L Turbo I4, 3.3L Twin-Turbo V6\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Telluride (2020-2022)": "Двигун: 3.8L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)"
            },
            "Land Rover": {
                "Discovery (2015-2024)": "Двигун: 3.0L Supercharged V6, 3.0L V6 Turbo Diesel, 2.0L Turbo I4, 3.0L Turbo I6\nПривід: Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Discovery Sport (2016-2025)": "Двигун: 2.0L Turbo I4\nПривід: Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Evoque (2012-2020)": "Двигун: 2.0L Turbo I4\nПривід: Повний привід (AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Sport (2013-2017)": "Двигун: 3.0L Supercharged V6, 5.0L Supercharged V8\nПривід: Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Velar (2018-2024)": "Двигун: 2.0L Turbo I4, 3.0L Supercharged V6, 3.0L Turbo I6\nПривід: Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)"
            },
            "Lexus": {
                "GX460 (2018-2023)": "Двигун: 4.6L V8\nПривід: Повний привід (4WD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "IS200T (2013-2016)": "Двигун: 2.0L Turbo I4\nПривід: Задній привід (RWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "LS500 (2020-2025)": "Двигун: 3.4L Twin-Turbo V6, 3.5L V6 (Hybrid)\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 10-ступенева автоматична (10-speed Automatic)",
                "NX (2018-2021)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "RX350 (2016-2022)": "Двигун: 3.5L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "UX200 (2021)": "Двигун: 2.0L I4\nПривід: Передній привід (FWD)\nТрансмісія: Безступенева (CVT)"
            },
            "Lincoln": {
                "Aviator (2020-2024)": "Двигун: 3.0L Twin-Turbo V6\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 10-ступенева автоматична (10-speed Automatic)",
                "Corsair (2020-2022)": "Двигун: 2.0L Turbo I4, 2.3L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Nautilus (2019-2023)": "Двигун: 2.0L Turbo I4, 2.7L Twin-Turbo V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Navigator (2018-2023)": "Двигун: 3.5L EcoBoost V6\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 10-ступенева автоматична (10-speed Automatic)"
            },
            "Maserati": {
                "Ghibli (2014-2023)": "Двигун: 3.0L Twin-Turbo V6\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Quattroporte (2014-2024)": "Двигун: 3.0L Twin-Turbo V6, 3.8L Twin-Turbo V8\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)"
            },
            "Mazda": {
                "3 (2019-2023)": "Двигун: 2.5L I4, 2.5L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 6-ступенева механічна (6-speed Manual)",
                "6 (2018-2021)": "Двигун: 2.5L I4, 2.5L Turbo I4\nПривід: Передній привід (FWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "CX-3 (2019-2021)": "Двигун: 2.0L I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "CX-30 (2020-2024)": "Двигун: 2.5L I4, 2.5L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "CX-5 (2013-2024)": "Двигун: 2.5L I4, 2.5L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "CX-50 (2023-2024)": "Двигун: 2.5L I4, 2.5L Turbo I4\nПривід: Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "CX-9 (2016-2023)": "Двигун: 2.5L Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "CX-90 (2023-2025)": "Двигун: 3.3L Turbo I6, 2.5L I4 (PHEV)\nПривід: Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "MX-5 (2016-2023)": "Двигун: 2.0L I4\nПривід: Задній привід (RWD)\nТрансмісія: 6-ступенева механічна (6-speed Manual), 6-ступенева автоматична (6-speed Automatic)"
            },
            "Mercedes-Benz": {
                "A220 (2022-2024)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (4MATIC AWD)\nТрансмісія: 7-ступенева з подвійним зчепленням (7-speed Dual-Clutch)",
                "C300/C43 (2015-2020)": "Двигун: 2.0L Turbo I4, 3.0L Twin-Turbo V6\nПривід: Задній привід (RWD), Повний привід (4MATIC AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "CLA250 (2019-2023)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (4MATIC AWD)\nТрансмісія: 7-ступенева з подвійним зчепленням (7-speed Dual-Clutch)",
                "CLS450 (2018-2022)": "Двигун: 3.0L Turbo I6\nПривід: Задній привід (RWD), Повний привід (4MATIC AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "E300/E400 (2013-2020)": "Двигун: 2.0L Turbo I4, 3.0L Twin-Turbo V6\nПривід: Задній привід (RWD), Повний привід (4MATIC AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "GL450 (2013-2016)": "Двигун: 4.7L Twin-Turbo V8\nПривід: Повний привід (4MATIC AWD)\nТрансмісія: 7-ступенева автоматична (7-speed Automatic)",
                "GLA250 (2015-2023)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (4MATIC AWD)\nТрансмісія: 7-ступенева з подвійним зчепленням (7-speed Dual-Clutch), 8-ступенева з подвійним зчепленням (8-speed Dual-Clutch)",
                "GLB250 (2020-2024)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (4MATIC AWD)\nТрансмісія: 8-ступенева з подвійним зчепленням (8-speed Dual-Clutch)",
                "GLC300 (2016-2024)": "Двигун: 2.0L Turbo I4\nПривід: Задній привід (RWD), Повний привід (4MATIC AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "GLE350/450 (2017-2025)": "Двигун: 3.5L V6, 3.0L Turbo I6\nПривід: Задній привід (RWD), Повний привід (4MATIC AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "GLS450/550 (2017-2019)": "Двигун: 3.0L Twin-Turbo V6, 4.7L Twin-Turbo V8\nПривід: Повний привід (4MATIC AWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "S550 (2014-2017)": "Двигун: 4.7L Twin-Turbo V8\nПривід: Задній привід (RWD), Повний привід (4MATIC AWD)\nТрансмісія: 7-ступенева автоматична (7-speed Automatic), 9-ступенева автоматична (9-speed Automatic)",
                "SLC300 (2016-2020)": "Двигун: 2.0L Turbo I4\nПривід: Задній привід (RWD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Sprinter (2019-2022)": "Двигун: 2.0L Turbo I4, 3.0L Turbo Diesel V6\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: 7-ступенева автоматична (7-speed Automatic), 9-ступенева автоматична (9-speed Automatic)"
            },
            "Mini": {
                "Cooper (2014-2024)": "Двигун: 1.5L TwinPower Turbo I3, 2.0L TwinPower Turbo I4\nПривід: Передній привід (FWD)\nТрансмісія: 6-ступенева механічна (6-speed Manual), 6-ступенева автоматична (6-speed Automatic), 7-ступенева з подвійним зчепленням (7-speed Dual-Clutch)"
            },
            "Mitsubishi": {
                "Eclipse Cross (2022-2023)": "Двигун: 1.5L Turbo I4\nПривід: Передній привід (FWD), Повний привід (S-AWC)\nТрансмісія: Безступенева (CVT)",
                "Outlander (2019-2021)": "Двигун: 2.4L I4, 3.0L V6\nПривід: Передній привід (FWD), Повний привід (AWC)\nТрансмісія: Безступенева (CVT), 6-ступенева автоматична (6-speed Automatic)"
            },
            "Nissan": {
                "370Z (2012-2023)": "Двигун: 3.7L V6\nПривід: Задній привід (RWD)\nТрансмісія: 6-ступенева механічна (6-speed Manual), 7-ступенева автоматична (7-speed Automatic)",
                "Altima (2019-2022)": "Двигун: 2.5L I4, 2.0L Variable Compression Turbo (VC-Turbo)\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Безступенева (CVT)",
                "Armada (2017-2021)": "Двигун: 5.6L V8\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 7-ступенева автоматична (7-speed Automatic)",
                "Frontier (2020-2024)": "Двигун: 3.8L V6\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 9-ступенева автоматична (9-speed Automatic)",
                "Maxima (2019-2023)": "Двигун: 3.5L V6\nПривід: Передній привід (FWD)\nТрансмісія: Безступенева (CVT)",
                "Murano (2019-2023)": "Двигун: 3.5L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Безступенева (CVT)",
                "NV200 (2015-2021)": "Двигун: 2.0L I4\nПривід: Передній привід (FWD)\nТрансмісія: Безступенева (CVT)",
                "Pathfinder (2017-2024)": "Двигун: 3.5L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Безступенева (CVT), 9-ступенева автоматична (9-speed Automatic)",
                "Rogue (2017-2024)": "Двигун: 2.5L I4, 1.5L Variable Compression Turbo\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Безступенева (CVT)",
                "Rogue Sport (2017-2022)": "Двигун: 2.0L I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: Безступенева (CVT)",
                "Sentra (2020-2024)": "Двигун: 2.0L I4\nПривід: Передній привід (FWD)\nТрансмісія: Безступенева (CVT)",
                "Titan (2017-2022)": "Двигун: 5.6L V8\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 7-ступенева автоматична (7-speed Automatic), 9-ступенева автоматична (9-speed Automatic)"
            },
            "Porsche": {
                "718 Boxster (2017-2023)": "Двигун: 2.0L Turbo Flat-4, 2.5L Turbo Flat-4, 4.0L Flat-6\nПривід: Задній привід (RWD)\nТрансмісія: 6-ступенева механічна (6-speed Manual), 7-ступенева PDK (PDK)",
                "Macan (2021-2023)": "Двигун: 2.0L Turbo I4, 2.9L Twin-Turbo V6\nПривід: Повний привід (AWD)\nТрансмісія: 7-ступенева PDK (PDK)"
            },
            "Ram": {
                "1500/4500/5500 (2019-2023)": "Двигун: 3.6L V6, 5.7L V8, 6.4L V8, 6.7L Cummins Turbo Diesel I6\nПривід: Задній привід (RWD), Повний привід (4x4)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 6-ступенева автоматична (6-speed Automatic)"
            },
            "Subaru": {
                "Ascent (2019-2022)": "Двигун: 2.4L Turbo Boxer-4\nПривід: Повний привід (Symmetrical AWD)\nТрансмісія: Безступенева (CVT)",
                "Crosstrek (2022-2026)": "Двигун: 2.0L Boxer-4, 2.5L Boxer-4\nПривід: Повний привід (Symmetrical AWD)\nТрансмісія: Безступенева (CVT), 6-ступенева механічна (6-speed Manual)",
                "Forester (2023-2026)": "Двигун: 2.5L Boxer-4\nПривід: Повний привід (Symmetrical AWD)\nТрансмісія: Безступенева (CVT)",
                "Legacy (2020-2022)": "Двигун: 2.5L Boxer-4, 2.4L Turbo Boxer-4\nПривід: Повний привід (Symmetrical AWD)\nТрансмісія: Безступенева (CVT)",
                "Outback (2020-2024)": "Двигун: 2.5L Boxer-4, 2.4L Turbo Boxer-4\nПривід: Повний привід (Symmetrical AWD)\nТрансмісія: Безступенева (CVT)",
                "WRX (2018-2023)": "Двигун: 2.0L Turbo Boxer-4, 2.4L Turbo Boxer-4\nПривід: Повний привід (Symmetrical AWD)\nТрансмісія: 6-ступенева механічна (6-speed Manual), Безступенева (CVT)"
            },
            "Tesla": {
                "Model 3 (2017-2023)": "Двигун: Електричний\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: Одноступенева (Single-speed)",
                "Model Y (2020-2025)": "Двигун: Електричний\nПривід: Задній привід (RWD), Повний привід (AWD)\nТрансмісія: Одноступенева (Single-speed)"
            },
            "Toyota": {
                "4Runner (2014-2023)": "Двигун: 4.0L V6\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 5-ступенева автоматична (5-speed Automatic)",
                "Avalon (2019-2022)": "Двигун: 3.5L V6, 2.5L I4 (Hybrid)\nПривід: Передній привід (FWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), Безступенева (e-CVT)",
                "Camry (2018-2024)": "Двигун: 2.5L I4, 3.5L V6, 2.5L I4 (Hybrid)\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), Безступенева (e-CVT)",
                "Corolla (2020-2024)": "Двигун: 1.8L I4, 2.0L I4, 1.8L I4 (Hybrid)\nПривід: Передній привід (FWD)\nТрансмісія: Безступенева (CVT), 6-ступенева механічна (6-speed Manual)",
                "GR86 (2021-2025)": "Двигун: 2.4L Boxer-4\nПривід: Задній привід (RWD)\nТрансмісія: 6-ступенева механічна (6-speed Manual), 6-ступенева автоматична (6-speed Automatic)",
                "Highlander (2014-2020)": "Двигун: 2.7L I4, 3.5L V6\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 8-ступенева автоматична (8-speed Automatic)",
                "Prius (2019-2022)": "Двигун: 1.8L I4 (Hybrid)\nПривід: Передній привід (FWD), Повний привід (AWD-e)\nТрансмісія: Безступенева (e-CVT)",
                "RAV4 (2019-2023)": "Двигун: 2.5L I4, 2.5L I4 (Hybrid/PHEV)\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), Безступенева (e-CVT)",
                "Sienna (2018-2024)": "Двигун: 3.5L V6, 2.5L I4 (Hybrid)\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), Безступенева (e-CVT)",
                "Tacoma (2016-2023)": "Двигун: 2.7L I4, 3.5L V6\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 6-ступенева механічна (6-speed Manual)",
                "Tundra (2019-2021)": "Двигун: 5.7L V8\nПривід: Задній привід (RWD), Повний привід (4WD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic)",
                "Venza (2020-2025)": "Двигун: 2.5L I4 (Hybrid)\nПривід: Повний привід (AWD)\nТрансмісія: Безступенева (e-CVT)"
            },
            "Volkswagen": {
                "Arteon (2020-2026)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (4MOTION AWD)\nТрансмісія: 7-ступенева DSG (7-speed DSG)",
                "Atlas (2018-2023)": "Двигун: 2.0L Turbo I4, 3.6L V6\nПривід: Передній привід (FWD), Повний привід (4MOTION AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)",
                "Jetta (2019-2021)": "Двигун: 1.4L Turbo I4\nПривід: Передній привід (FWD)\nТрансмісія: 6-ступенева механічна (6-speed Manual), 8-ступенева автоматична (8-speed Automatic)",
                "Passat (2016-2022)": "Двигун: 1.8L Turbo I4, 2.0L Turbo I4, 3.6L V6\nПривід: Передній привід (FWD)\nТрансмісія: 6-ступенева автоматична (6-speed Automatic), 6-ступенева DSG (6-speed DSG)",
                "Taos (2020-2025)": "Двигун: 1.5L Turbo I4\nПривід: Передній привід (FWD), Повний привід (4MOTION AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic), 7-ступенева DSG (7-speed DSG)",
                "Tiguan (2020-2024)": "Двигун: 2.0L Turbo I4\nПривід: Передній привід (FWD), Повний привід (4MOTION AWD)\nТрансмісія: 8-ступенева автоматична (8-speed Automatic)"
            },
            "Volvo": {
                "S60 (2019-2025)": "Двигун: 2.0L Turbo I4, 2.0L Supercharged and Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева Geartronic (8-speed Geartronic)",
                "S90 (2016-2020)": "Двигун: 2.0L Turbo I4, 2.0L Supercharged and Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева Geartronic (8-speed Geartronic)",
                "XC40 (2017-2025)": "Двигун: 2.0L Turbo I4, Електричний\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева Geartronic (8-speed Geartronic), Одноступенева (Single-speed)",
                "XC60 (2018-2021)": "Двигун: 2.0L Turbo I4, 2.0L Supercharged and Turbo I4\nПривід: Передній привід (FWD), Повний привід (AWD)\nТрансмісія: 8-ступенева Geartronic (8-speed Geartronic)",
                "XC90 (2020-2024)": "Двигун: 2.0L Turbo I4, 2.0L Supercharged and Turbo I4\nПривід: Повний привід (AWD)\nТрансмісія: 8-ступенева Geartronic (8-speed Geartronic)"
            }

        };

        const carBrandSelect = document.getElementById("carBrand");
        const carModelSelect = document.getElementById("carModel");
        const carInfoResult = document.getElementById("car-info-result");

        // Populate car brands
        for (const brand in carData) {
            const option = document.createElement("option");
            option.value = brand;
            option.textContent = brand;
            carBrandSelect.appendChild(option);
        }

        // Event listener for brand change
        carBrandSelect.addEventListener("change", (event) => {
            const selectedBrand = event.target.value;
            carModelSelect.innerHTML = "<option value=''>Виберіть модель</option>";
            carModelSelect.disabled = true;

            if (selectedBrand) {
                const models = Object.keys(carData[selectedBrand]);
                models.forEach(model => {
                    const option = document.createElement("option");
                    option.value = model;
                    option.textContent = model;
                    carModelSelect.appendChild(option);
                });
                carModelSelect.disabled = false;
            }
        });

        function getCarInfo() {
            const brand = carBrandSelect.value;
            const model = carModelSelect.value;
            carInfoResult.classList.remove('show');

            if (!brand || !model) {
                carInfoResult.innerHTML = "<p>Будь ласка, виберіть марку та модель.</p>";
                carInfoResult.classList.add('show');
                return;
            }

            const info = carData[brand][model];
            carInfoResult.innerHTML = `<p class="font-bold">${info.replace(/\n/g, '<br>')}</p>`;
            carInfoResult.classList.add('show');
        }

        function calculate() {
            const min = parseFloat(document.getElementById("minPrice").value);
            const max = parseFloat(document.getElementById("maxPrice").value);
            const centsIndex = parseInt(document.getElementById("centsIndex").value);
            const shipping = parseFloat(document.getElementById("shippingCost").value);
            const resultBox = document.getElementById("result");

            if (isNaN(min) || isNaN(max) || min >= max) {
                resultBox.innerHTML = "<p>Будь ласка, введіть коректні межі (min &lt; max).</p>";
                resultBox.classList.add('show');
                return;
            }
            if (isNaN(centsIndex) || centsIndex < 0 || centsIndex > 99) {
                resultBox.innerHTML = "<p>Будь ласка, введіть коректний індекс центів (0–99).</p>";
                resultBox.classList.add('show');
                return;
            }
            if (isNaN(shipping) || shipping < 0) {
                resultBox.innerHTML = "<p>Будь ласка, введіть коректну вартість доставки.</p>";
                resultBox.classList.add('show');
                return;
            }

            const tableContainer = document.createElement('div');
            tableContainer.classList.add('result-table-container');

            const tableHeader = document.createElement('div');
            tableHeader.classList.add('table-header');
            tableHeader.textContent = 'Результати розрахунків';

            let tableHTML = `
        <table class="result-table">
            <thead>
                <tr>
                    <th>%</th>
                    <th class="number-cell">Разом</th>
                    <th class="number-cell">Базова</th>
                    <th>Знижка 20-25%</th>
                </tr>
            </thead>
            <tbody>`;

            for (let p = 50; p <= 80; p += 10) {
                const baseValue = min + (max - min) * (p / 100);
                const valueWithCents = parseFloat((Math.floor(baseValue) + centsIndex / 100).toFixed(2));
                const finalValue = (valueWithCents - shipping).toFixed(2);
                const discounted20 = ((valueWithCents - shipping) * 0.80 + shipping).toFixed(2);
                const discounted25 = ((valueWithCents - shipping) * 0.75 + shipping).toFixed(2);

                tableHTML += `
            <tr>
                <td class="compact-cell"><strong>${p}%</strong></td>
                <td class="number-cell">$${valueWithCents.toFixed(2)}</td>
                <td class="number-cell"><strong>$${finalValue}</strong></td>
                <td class="compact-cell">$${discounted25} – $${discounted20}</td>
            </tr>`;
            }

            tableHTML += `</tbody></table>`;

            resultBox.innerHTML = "";

            tableContainer.innerHTML = tableHTML;  // сразу формируем таблицу
            resultBox.appendChild(tableContainer);
            resultBox.classList.add('show');

        }

        function processCode() {
            const input = document.getElementById('code').value.trim().toUpperCase();
            const selectedBrand = document.getElementById('brand').value.toLowerCase();
            const resultsDiv = document.getElementById('splitter-results');
            resultsDiv.innerHTML = '';

            // Валидация ввода
            if (input === '') {
                resultsDiv.innerHTML = '<p class="text-red-400">Введіть код деталі</p>';
                return;
            }

            if (!/^[A-Z0-9-\s]+$/i.test(input)) {
                resultsDiv.innerHTML = '<p class="text-red-400">Невірний формат. Дозволені лише літери, цифри та дефіси</p>';
                return;
            }

            let result = "Unsupported format.";

            // Карта брендов
            const brandMap = {
                'alfa': processMoparNumber,
                'jeep': processMoparNumber,
                'dodge': processMoparNumber,
                'ram': processMoparNumber,
                'chrysler': processMoparNumber,
                'toyota': processToyotaOrSubaruNumber,
                'subaru': processToyotaOrSubaruNumber,
                'hyundai': processHyundaiKiaGenesisNumber,
                'kia': processHyundaiKiaGenesisNumber,
                'genesis': processHyundaiKiaGenesisNumber,
                'lexus': processToyotaOrSubaruNumber,
                'scion': processToyotaOrSubaruNumber,
                'maserati': processMaseratiNumber,
                'nissan': processNissanNumber,
                'infiniti': processNissanNumber,
                'mazda': processMazdaNumber,
                'mitsubishi': processMitsubishiNumber,
                'tesla': processTeslaNumber,
                'volkswagen': processVagNumber,
                'audi': processVagNumber,
                'porsche': processVagNumber,
                'mercedes': processMercedesNumber,
                'bmw': processBmwNumber,
                'mini': processBmwNumber,
                'ford': processFordNumber,
                'lincoln': processFordNumber,
                'chevrolet': processFordNumber,
                'gmc': processFordNumber,
                'cadillac': processFordNumber,
                'buick': processFordNumber,
                'land rover': processLandRoverNumber,
                'jaguar': processLandRoverNumber,
                'honda': processHondaNumber,
                'acura': processHondaNumber
            };

            // Поиск функции по бренду
            for (const [brandKey, processor] of Object.entries(brandMap)) {
                if (selectedBrand.includes(brandKey)) {
                    result = processor(input);
                    break;
                }
            }

            // Отображение результата
            if (selectedBrand.includes('mercedes') && result.includes('|')) {
                // спец. логика для Mercedes
                const resultContainer = document.createElement('div');
                resultContainer.classList.add('result-item');
                resultContainer.style.display = 'flex';
                resultContainer.style.flexWrap = 'wrap';
                resultContainer.style.gap = '8px';

                const resultParts = result.split('|').map(r => r.trim());

                resultParts.forEach(res => {
                    const partWrapper = document.createElement('div');
                    partWrapper.classList.add('result-item-hover');
                    partWrapper.style.cursor = 'pointer';
                    partWrapper.style.padding = '4px 8px';
                    partWrapper.style.border = '1px solid #ddd';
                    partWrapper.style.borderRadius = '6px';

                    partWrapper.onclick = () => navigator.clipboard.writeText(res);

                    const resultText = document.createElement('span');
                    resultText.textContent = res;

                    partWrapper.appendChild(resultText);
                    resultContainer.appendChild(partWrapper);
                });

                resultsDiv.classList.add('show');
                resultsDiv.appendChild(resultContainer);

            } else {
                // универсальный вывод для всех остальных
                const resultItem = document.createElement('div');
                resultItem.classList.add('result-item');
                resultItem.textContent = result;

                if (result !== "Unsupported format.") {
                    resultItem.style.cursor = 'pointer';
                    resultItem.onclick = () => navigator.clipboard.writeText(result);
                } else {
                    resultItem.classList.add('result-disabled');
                }

                resultsDiv.classList.add('show');
                resultsDiv.appendChild(resultItem);
            }
        }

        // =================== ФУНКЦИИ РАЗДЕЛЕНИЯ ===================
        function processMoparNumber(number) {
            const cleanNumber = number.replace(/[-\s]/g, '').toUpperCase();

            // Mopar специфичные форматы
            if (cleanNumber.length === 7) {
                // Формат: 1234567 или 12345AB
                if (/^\d+$/.test(cleanNumber)) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5)}`;
                } else {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5)}`;
                }
            }

            if (cleanNumber.length === 8) {
                // Формат: 1234567A или 1234ABCD
                return `${cleanNumber} / ${cleanNumber.slice(0, 4)} ${cleanNumber.slice(4)}`;
            }

            if (cleanNumber.length === 9) {
                // Формат: 123456789 или ABC123456
                if (/^\d+$/.test(cleanNumber)) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5)}`;
                } else {
                    const match = cleanNumber.match(/^([A-Z]+)(\d+)$/);
                    if (match) {
                        return `${cleanNumber} / ${match[1]} ${match[2]}`;
                    }
                }
            }

            if (cleanNumber.length === 10) {
                // Формат: 1234567890 или 123-456-789-0
                return `${cleanNumber} / ${cleanNumber.slice(0, 3)} ${cleanNumber.slice(3, 6)} ${cleanNumber.slice(6, 9)} ${cleanNumber.slice(9)}`;
            }

            // Универсальная обработка с дефисами
            if (number.includes('-')) {
                const parts = number.split('-');
                if (parts.length >= 2) {
                    return `${cleanNumber} / ${parts.join(' ')}`;
                }
            }

            return "Unsupported Mopar format.";
        }

        function processHyundaiKiaGenesisNumber(number) {
            const numberWithoutDashes = number.replace(/-/g, '');

            // Убираем возможные точки или другие разделители
            const cleanNumber = numberWithoutDashes.replace(/[.\s]/g, '');

            // Форматы Hyundai/Kia/Genesis обычно имеют длину 8-14 символов
            if (cleanNumber.length >= 8 && cleanNumber.length <= 14) {
                // Проверяем различные форматы

                // Формат 1: XXXXX-XXXXX (8+5=13 символов)
                if (cleanNumber.length === 13) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)}-${cleanNumber.slice(5, 10)}-${cleanNumber.slice(10)} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5, 10)} ${cleanNumber.slice(10)}`;
                }

                // Формат 2: XXXXXXXX (8 символов)
                if (cleanNumber.length === 8) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 4)} ${cleanNumber.slice(4)}`;
                }

                // Формат 3: XXXXXXXXXX (10 символов)
                if (cleanNumber.length === 10) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5)}`;
                }

                // Формат 4: XXXXXXXXXXXX (12 символов)
                if (cleanNumber.length === 12) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5, 10)} ${cleanNumber.slice(10)}`;
                }

                // Формат 5: XXXXXXXXXXXXXX (14 символов)
                if (cleanNumber.length === 14) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5, 10)} ${cleanNumber.slice(10)}`;
                }

                // Универсальный формат для других длин
                if (cleanNumber.length === 9 || cleanNumber.length === 11) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5)}`;
                }
            }

            // Обработка номеров с дефисами
            if (number.includes('-')) {
                const parts = number.split('-');
                const cleanNumber = parts.join('');

                if (parts.length === 2) {
                    return `${cleanNumber} / ${parts[0]} ${parts[1]}`;
                }
                if (parts.length === 3) {
                    return `${cleanNumber} / ${parts[0]}${parts[1]} ${parts[2]} / ${parts[0]} ${parts[1]} ${parts[2]}`;
                }
            }

            return "Unsupported format.";
        }

        function processToyotaOrSubaruNumber(number) {
            if (number.length === 10) {
                return `${number} / ${number.slice(0, 5)} ${number.slice(5)}`;
            }
            if (number.length > 10) {
                const mainPart = number.slice(0, 10);
                const suffix = number.slice(10);
                return `${number} / ${mainPart} ${suffix} / ${mainPart.slice(0, 5)} ${mainPart.slice(5)} ${suffix}`;
            }
            return "Unsupported format.";
        }

        function processMaseratiNumber(number) {
            const cleanNumber = number.replace(/[-\s]/g, '').toUpperCase();

            // Maserati специфичные префиксы
            if (cleanNumber.startsWith('AM') || cleanNumber.startsWith('MA')) {
                if (cleanNumber.length === 9) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 2)} ${cleanNumber.slice(2)}`;
                }
                if (cleanNumber.length === 10) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 2)} ${cleanNumber.slice(2, 6)} ${cleanNumber.slice(6)}`;
                }
            }

            // Чисто числовые форматы
            if (/^\d+$/.test(cleanNumber)) {
                if (cleanNumber.length === 9) {
                    return cleanNumber;
                }
                if (cleanNumber.length === 10) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5)}`;
                }
                if (cleanNumber.length > 10) {
                    const core = cleanNumber.slice(-9); // последние 9 цифр - ядро номера
                    const prefix = cleanNumber.slice(0, -9);
                    return `${cleanNumber} / ${prefix} ${core} / ${prefix} ${core.slice(0, 5)} ${core.slice(5)}`;
                }
            }

            // Универсальная обработка
            if (cleanNumber.length >= 8 && cleanNumber.length <= 15) {
                return `${cleanNumber} / ${cleanNumber.slice(0, 4)} ${cleanNumber.slice(4, 8)} ${cleanNumber.slice(8)}`;
            }

            return "Unsupported Maserati format.";
        }

        function processNissanNumber(number) {
            if (number.length === 10) {
                return `${number} / ${number.slice(0, 5)} ${number.slice(5)}`;
            }
            return "Unsupported format.";
        }

        function processMazdaNumber(number) {
            if (number.length === 9 || number.length === 10) {
                return `${number} / ${number.slice(0, 4)} ${number.slice(4, 6)} ${number.slice(6)}`;
            }
            if (number.length >= 11 && number.length <= 13) {
                return `${number} / ${number.slice(0, number.length - 2)} ${number.slice(-2)} / ${number.slice(0, 4)} ${number.slice(4, 6)} ${number.slice(6, number.length - 2)} ${number.slice(-2)}`;
            }
            return "Unsupported format.";
        }

        function processMitsubishiNumber(number) {
            if (number.length === 8) {
                return `${number} / ${number.slice(0, 4)} ${number.slice(4)}`;
            }
            if (number.length >= 10) {
                return `${number} / ${number.slice(0, 8)} ${number.slice(8)} / ${number.slice(0, 4)} ${number.slice(4, 8)} ${number.slice(8)}`;
            }
            return "Unsupported format.";
        }

        function processTeslaNumber(number) {
            const cleanNumber = number.replace(/[-\s]/g, '').toUpperCase();

            // Tesla специфичные форматы
            if (cleanNumber.startsWith('TESLA') || cleanNumber.startsWith('TL')) {
                if (cleanNumber.length === 10) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5)}`;
                }
                if (cleanNumber.length === 11) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5, 8)} ${cleanNumber.slice(8)}`;
                }
                if (cleanNumber.length === 12) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 5)} ${cleanNumber.slice(5, 9)} ${cleanNumber.slice(9)}`;
                }
            }

            // Числовые форматы Tesla
            if (/^\d+$/.test(cleanNumber)) {
                if (cleanNumber.length === 9) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 3)} ${cleanNumber.slice(3, 6)} ${cleanNumber.slice(6)}`;
                }
                if (cleanNumber.length === 10) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 4)} ${cleanNumber.slice(4, 7)} ${cleanNumber.slice(7)}`;
                }
            }

            // Буквенно-цифровые форматы
            if (cleanNumber.length >= 8 && cleanNumber.length <= 15) {
                const match = cleanNumber.match(/^([A-Z]{2,5})(\d+)$/);
                if (match) {
                    return `${cleanNumber} / ${match[1]} ${match[2]}`;
                }
            }

            return "Unsupported Tesla format.";
        }

        function processVagNumber(number) {
            if (number.length <= 9) {
                return `${number} / ${number.slice(0, 3)} ${number.slice(3, 6)} ${number.slice(6)}`;
            }
            if (number.length >= 10 && number.length <= 12) {
                return `${number} / ${number.slice(0, 9)} / ${number.slice(0, 3)} ${number.slice(3, 6)} ${number.slice(6, 9)} ${number.slice(9)}`;
            }
            if (number.length === 14) {
                return `${number} / ${number.slice(0, 9)} / ${number.slice(0, 11)} / ${number.slice(0, 3)} ${number.slice(3, 6)} ${number.slice(6, 9)} ${number.slice(9, 11)} ${number.slice(11)}`;
            }
            if (number.length === 15) {
                return `${number} / ${number.slice(0, 9)} / ${number.slice(0, 12)} / ${number.slice(0, 3)} ${number.slice(3, 6)} ${number.slice(6, 9)} ${number.slice(9, 12)} ${number.slice(12)}`;
            }
            return "Unsupported format.";
        }

        function processMercedesNumber(number) {
            const isWithA = number[0].toUpperCase() === 'A';
            const raw = isWithA ? number.slice(1) : number;
            const len = number.length;

            const firstThree = raw.slice(0, 3);
            const secondThree = raw.slice(3, 6);
            const thirdTwo = raw.slice(6, 8);
            const fourthTwo = raw.slice(8, 10);
            const fifthTwo = raw.slice(10, 12);
            const fifthFour = raw.slice(10);
            const sixthFour = raw.slice(12);

            const baseSplit = `${firstThree} ${secondThree} ${thirdTwo} ${fourthTwo}`;

            if (isWithA) {
                if (len === 11) return `${number} / ${raw} / ${baseSplit}`;
                if (len === 13) return `${number} | ${raw.slice(0, -2)} / ${raw} / ${baseSplit} ${fifthFour}`;
                if (len === 15) return `${number} | ${raw.slice(0, -4)} / ${raw} / ${baseSplit} ${fifthFour}`;
                if (len === 17) return `${number} | ${raw.slice(0, -6)} / ${raw} / ${baseSplit} ${fifthTwo} ${sixthFour}`;
            } else {
                const withA = `A${number}`;
                if (len === 10) return `${withA} / ${number} / ${baseSplit}`;
                if (len === 12) return `${withA} | ${number.slice(0, -2)} / ${number} / ${baseSplit} ${fifthFour}`;
                if (len === 14) return `${withA} | ${number.slice(0, -4)} / ${number} / ${baseSplit} ${fifthFour}`;
                if (len === 16) return `${withA} | ${number.slice(0, -6)} / ${number} / ${baseSplit} ${fifthTwo} ${sixthFour}`;
            }

            if (len <= 9) {
                return `${number} / ${number.slice(0, 3)} ${number.slice(3, 6)} ${number.slice(6)}`;
            }
            return "Unsupported format.";
        }

        function processBmwNumber(number) {
            if (number.length === 7) {
                return `${number} / ${number[0]} ${number.slice(1, 4)} ${number.slice(4)}`;
            }
            if (number.length === 11) {
                return `${number} / ${number.slice(0, 4)} ${number.slice(4)} / ${number.slice(0, 2)} ${number.slice(2, 4)} ${number.slice(4, 5)} ${number.slice(5, 8)} ${number.slice(8)}`;
            }
            return "Unsupported format.";
        }

        function processFordNumber(number) {
            if (number.includes('-')) {
                const clean = number.replace(/-/g, '');
                const parts = number.split('-');
                if (parts.length === 3) {
                    return `${clean} / ${parts[0]}${parts[1]} ${parts[2]} / ${parts[0]} ${parts[1]} ${parts[2]}`;
                }
                return `${clean} / ${parts.join(' ')}`;
            }
            if (number.length < 5) return "Unsupported format.";

            const isLetter = ch => /^[A-Z]$/i.test(ch);
            if (isLetter(number.at(-1))) {
                let i = number.length - 1;
                while (i >= 0 && isLetter(number[i])) i--;
                const suffix = number.slice(i + 1);
                return `${number} / ${number.slice(0, number.length - suffix.length)} ${suffix} / ${number.slice(0, 4)} ${number.slice(4, i + 1)} ${suffix}`;
            } else {
                return `${number} / ${number.slice(0, 4)} ${number.slice(4)}`;
            }
        }

        function processLandRoverNumber(number) {
            const cleanNumber = number.replace(/[-\s]/g, '').toUpperCase();

            // Land Rover специфичные префиксы
            if (cleanNumber.startsWith('LR') || cleanNumber.startsWith('L0')) {
                if (cleanNumber.length === 8) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 2)} ${cleanNumber.slice(2)}`;
                }
                if (cleanNumber.length === 9) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 2)} ${cleanNumber.slice(2, 5)} ${cleanNumber.slice(5)}`;
                }
                if (cleanNumber.length === 10) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 2)} ${cleanNumber.slice(2, 6)} ${cleanNumber.slice(6)}`;
                }
            }

            // Jaguar специфичные форматы
            if (cleanNumber.startsWith('J') || cleanNumber.startsWith('C')) {
                if (cleanNumber.length === 7) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 1)} ${cleanNumber.slice(1)}`;
                }
                if (cleanNumber.length === 8) {
                    return `${cleanNumber} / ${cleanNumber.slice(0, 1)} ${cleanNumber.slice(1, 4)} ${cleanNumber.slice(4)}`;
                }
            }

            // Универсальная обработка
            if (cleanNumber.length >= 6 && cleanNumber.length <= 12) {
                return processFordNumber(cleanNumber);
            }

            return "Unsupported Land Rover/Jaguar format.";
        }

        function processHondaNumber(number) {
            const numberWithoutDashes = number.replace(/-/g, '');

            // Проверяем, является ли номер чисто цифровым или содержит буквы
            const isDigitsOnly = /^\d+$/.test(numberWithoutDashes);
            const hasLetters = /[A-Za-z]/.test(numberWithoutDashes);

            // Для чисто цифровых номеров (обычно Honda)
            if (isDigitsOnly) {
                if (numberWithoutDashes.length === 5) {
                    return numberWithoutDashes;
                }
                if (numberWithoutDashes.length === 7) {
                    return `${numberWithoutDashes} / ${numberWithoutDashes.slice(0, 5)} ${numberWithoutDashes.slice(5)}`;
                }
                if (numberWithoutDashes.length === 8) {
                    return `${numberWithoutDashes} / ${numberWithoutDashes.slice(0, 5)} ${numberWithoutDashes.slice(5)}`;
                }
                if (numberWithoutDashes.length === 10) {
                    return `${numberWithoutDashes} / ${numberWithoutDashes.slice(0, 5)} ${numberWithoutDashes.slice(5, 8)} ${numberWithoutDashes.slice(8)}`;
                }
                if (numberWithoutDashes.length === 11) {
                    return `${numberWithoutDashes} / ${numberWithoutDashes.slice(0, 5)} ${numberWithoutDashes.slice(5, 8)} ${numberWithoutDashes.slice(8)}`;
                }
            }

            // Для номеров с буквами (обычно Acura)
            if (hasLetters) {
                // Формат Acura: обычно начинается с букв, затем цифры
                if (numberWithoutDashes.length >= 8 && numberWithoutDashes.length <= 12) {
                    // Находим границу между буквами и цифрами
                    let digitStart = 0;
                    while (digitStart < numberWithoutDashes.length &&
                        /[A-Za-z]/.test(numberWithoutDashes[digitStart])) {
                        digitStart++;
                    }

                    if (digitStart > 0 && digitStart < numberWithoutDashes.length) {
                        const prefix = numberWithoutDashes.slice(0, digitStart);
                        const digits = numberWithoutDashes.slice(digitStart);

                        if (digits.length === 5) {
                            return `${numberWithoutDashes} / ${prefix} ${digits}`;
                        }
                        if (digits.length === 7) {
                            return `${numberWithoutDashes} / ${prefix} ${digits.slice(0, 5)} ${digits.slice(5)}`;
                        }
                        if (digits.length === 8) {
                            return `${numberWithoutDashes} / ${prefix} ${digits.slice(0, 5)} ${digits.slice(5)}`;
                        }
                    }
                }
            }

            // Универсальный формат для номеров с дефисами
            if (number.includes('-')) {
                const parts = number.split('-');
                const cleanNumber = parts.join('');

                if (parts.length === 2) {
                    return `${cleanNumber} / ${parts[0]} ${parts[1]}`;
                }
                if (parts.length === 3) {
                    return `${cleanNumber} / ${parts[0]}${parts[1]} ${parts[2]} / ${parts[0]} ${parts[1]} ${parts[2]}`;
                }
                if (parts.length === 4) {
                    return `${cleanNumber} / ${parts[0]}${parts[1]}${parts[2]} ${parts[3]} / ${parts.join(' ')}`;
                }
            }

            return "Unsupported format.";
        }
        function processCode() {
            const input = document.getElementById('code').value.trim().toUpperCase();
            const selectedBrand = document.getElementById('brand').value.toLowerCase();
            const resultsDiv = document.getElementById('splitter-results');
            resultsDiv.innerHTML = '';

            // Валидация ввода
            if (input === '') {
                resultsDiv.innerHTML = '<p class="text-red-400">Введіть код деталі</p>';
                return;
            }
            if (!/^[A-Z0-9-\s]+$/i.test(input)) {
                resultsDiv.innerHTML = '<p class="text-red-400">Невірний формат. Дозволені лише літери, цифри та дефіси</p>';
                return;
            }

            let result = "Unsupported format.";

            // Карта брендов
            const brandMap = {
                'alfa': processMoparNumber,
                'jeep': processMoparNumber,
                'dodge': processMoparNumber,
                'ram': processMoparNumber,
                'chrysler': processMoparNumber,
                'toyota': processToyotaOrSubaruNumber,
                'subaru': processToyotaOrSubaruNumber,
                'hyundai': processHyundaiKiaGenesisNumber,
                'kia': processHyundaiKiaGenesisNumber,
                'genesis': processHyundaiKiaGenesisNumber,
                'lexus': processToyotaOrSubaruNumber,
                'scion': processToyotaOrSubaruNumber,
                'maserati': processMaseratiNumber,
                'nissan': processNissanNumber,
                'infiniti': processNissanNumber,
                'mazda': processMazdaNumber,
                'mitsubishi': processMitsubishiNumber,
                'tesla': processTeslaNumber,
                'volkswagen': processVagNumber,
                'audi': processVagNumber,
                'porsche': processVagNumber,
                'mercedes': processMercedesNumber,
                'bmw': processBmwNumber,
                'mini': processBmwNumber,
                'ford': processFordNumber,
                'lincoln': processFordNumber,
                'chevrolet': processFordNumber,
                'gmc': processFordNumber,
                'cadillac': processFordNumber,
                'buick': processFordNumber,
                'land rover': processLandRoverNumber,
                'jaguar': processLandRoverNumber,
                'honda': processHondaNumber,
                'acura': processHondaNumber
            };

            // Определяем процессор по бренду
            for (const [brandKey, processor] of Object.entries(brandMap)) {
                if (selectedBrand.includes(brandKey)) {
                    result = processor(input);
                    break;
                }
            }

            // Создаем контейнер
            const resultContainer = document.createElement('div');
            resultContainer.classList.add('result-container');

            if (result !== "Unsupported format.") {
                const parts = result.split(' / ');

                // --- Блок с оригиналом ---
                const originalGroup = document.createElement('div');
                originalGroup.classList.add('result-group');

                const originalTitle = document.createElement('div');
                originalTitle.classList.add('result-group-title');
                originalTitle.textContent = "🔑 Оригінал";
                originalGroup.appendChild(originalTitle);

                const originalPart = createCopyablePart(input);
                originalPart.classList.add('original');
                originalGroup.appendChild(originalPart);

                resultContainer.appendChild(originalGroup);

                // --- Остальные варианты ---
                parts.forEach((part, idx) => {
                    const group = document.createElement('div');
                    group.classList.add('result-group', 'inline');

                    const title = document.createElement('div');
                    title.classList.add('result-group-title');
                    title.textContent = `Варіант ${idx + 1}:`;
                    group.appendChild(title);

                    const subParts = part.split(' ').filter(sp => sp.trim() !== '');
                    subParts.forEach(subPart => {
                        const copyablePart = createCopyablePart(subPart.trim());
                        group.appendChild(copyablePart);
                    });

                    resultContainer.appendChild(group);
                });
            } else {
                const errorPart = document.createElement('div');
                errorPart.textContent = result;
                errorPart.classList.add('text-red-400');
                resultContainer.appendChild(errorPart);
            }

            resultsDiv.classList.add('show');
            resultsDiv.appendChild(resultContainer);
        }

        // Создание копируемого элемента
        function createCopyablePart(text) {
            const partWrapper = document.createElement('div');
            partWrapper.classList.add('copyable-part');

            partWrapper.onclick = () => {
                navigator.clipboard.writeText(text);
                partWrapper.style.backgroundColor = 'var(--accent-color)';
                partWrapper.style.color = 'var(--btn-text-color)';
                setTimeout(() => {
                    partWrapper.style.backgroundColor = 'var(--input-bg)';
                    partWrapper.style.color = 'var(--text-color)';
                }, 200);
            };

            const textElement = document.createElement('span');
            textElement.textContent = text;
            textElement.style.fontWeight = '500';
            partWrapper.appendChild(textElement);

            return partWrapper;
        }

        // Обновленная функция для Ford
        function processFordNumber(number) {
            if (number.includes('-')) {
                const clean = number.replace(/-/g, '');
                const parts = number.split('-');
                if (parts.length === 3) {
                    return `${clean} / ${parts[0]}${parts[1]} ${parts[2]} / ${parts[0]} ${parts[1]} ${parts[2]}`;
                }
                return `${clean} / ${parts.join(' ')}`;
            }

            if (number.length < 5) return "Unsupported format.";

            const isLetter = ch => /^[A-Z]$/i.test(ch);

            if (isLetter(number.at(-1))) {
                let i = number.length - 1;
                while (i >= 0 && isLetter(number[i])) i--;
                const suffix = number.slice(i + 1);
                const mainPart = number.slice(0, number.length - suffix.length);

                let digitStart = 0;
                while (digitStart < mainPart.length && isLetter(mainPart[digitStart])) digitStart++;

                const prefix = mainPart.slice(0, digitStart);
                const digits = mainPart.slice(digitStart);

                return `${number} / ${mainPart} ${suffix} / ${prefix} ${digits} ${suffix}`;
            } else {
                let digitStart = 0;
                while (digitStart < number.length && isLetter(number[digitStart])) digitStart++;

                const prefix = number.slice(0, digitStart);
                const digits = number.slice(digitStart);

                return `${number} / ${prefix} ${digits}`;
            }
        }

    </script>
</body>
</html>
